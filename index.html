<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test</title>
<!--     <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" />
	<link rel="stylesheet" type="text/css" href="stylesheets/default.css"> -->
	<link rel="stylesheet" href="stylesheets/main.css">
    <style>
        .container{
            width: 100%;
            height: 40rem;
            font-family:"HelveticaNeue Light","STHeitiSC Light";
            background:#1c1c1c
        }
        .perScreen{
            width: 22.6667rem;
            height: 31.3333rem;
            background-color: #1c1c1c;
            padding: 2rem 2rem 3rem 2rem;

        }
        .pic{
            width: 4rem;
            height: 4rem;
            border-radius: 2rem;
        }
        #me{
            width: 5rem;
            height: 5rem;
            border-radius: 2rem;
            position: absolute;
            left: 2rem;
            top:3rem;
        }
        #answer{
            width:20rem;
            height:2rem;
            line-height:2rem;
            padding-bottom:0.5rem;
            margin-top:2rem;
        }
        .dateInput{
            width:3rem;
            height:2rem;
            background-color: #1c1c1c;
            border-bottom: 1px solid gray;
            border-top: 0;
            border-left: 0;
            border-right: 0;
            color: white;
            font-size: 1.8rem;
            line-height: 2rem;
            text-align: center;

        }
        #next{
            width:2rem;
            height:2rem;
            /*            display: none;*/
        }
        #you{
            width: 5rem;
            height: 5rem;
            border-radius: 2rem;
            position: absolute;
            right: 2rem;
            top:35rem;
        }
        .love{
            width: 2rem;
            height: 2.5rem;
        }
        #love0{
            display: none;
            position: absolute;
            left: 13.2rem;
            top: 18rem;
        }
        #love1{
            display: none;
            position: absolute;
            left: 16.2rem;
            top: 14rem;
        }
        #love2{
            display: none;
            position: absolute;
            left: 19.2rem;
            top: 10rem;
        }
        #love3{
            display: none;
            position: absolute;
            left: 22.2rem;
            top: 6rem;
        }
        #born{
            font-size: 2rem;
            margin-left: 0.5rem;
        }
        #together{
            font-size: 2rem;
            margin-left: 0.5rem;
        }
        #forever{
            font-size: 2rem;
            margin-left: 0.5rem;
        }
      #pic0{
            position: absolute;
            left:21rem;
            top:8rem;
            display: none;
        }
        #pic1{
            position: absolute;
            left:21rem;
            top:15rem;
            display: none;
        }
        #pic2{
            position: absolute;
            left:21rem;
            top:22rem;
            display: none;
        }
        #pic3{
            position: absolute;
            left:21rem;
            top:29rem;
            display: none;
        }
        #pic4{
            position: absolute;
            left:16rem;
            top:11rem;
            display: none;
        }
        #pic5{
            position: absolute;
            left:16rem;
            top:18rem;
            display: none;
        }
        #pic6{
            position: absolute;
            left:16rem;
            top:25rem;
            display: none;
        }
        #pic7{
            position: absolute;
            left:11rem;
            top:14rem;
            display: none;
        }
        #pic8{
            position: absolute;
            left:11rem;
            top:21rem;
            display: none;
        }
        #pic9{
            position: absolute;
            left:6rem;
            top:18rem;
            display: none;
        }
        #next1{
            width:2rem;
            height:2rem;
            display: none;
        }
      #pic10{
            position: absolute;
            left:2rem;
            top:8rem;
            display: none;
        }
        #pic11{
            position: absolute;
            left:2rem;
            top:15rem;
            display: none;
        }
        #pic12{
            position: absolute;
            left:2rem;
            top:22rem;
            display: none;
        }
        #pic13{
            position: absolute;
            left:2rem;
            top:29rem;
            display: none;
        }
        #pic14{
            position: absolute;
            left:7rem;
            top:11rem;
            display: none;
        }
        #pic15{
            position: absolute;
            left:7rem;
            top:18rem;
            display: none;
        }
        #pic16{
            position: absolute;
            left:7rem;
            top:25rem;
            display: none;
        }
        #pic17{
            position: absolute;
            left:12rem;
            top:14rem;
            display: none;
        }
        #pic18{
            position: absolute;
            left:12rem;
            top:21rem;
            display: none;
        }
        #pic19{
            position: absolute;
            left:17rem;
            top:18rem;
            display: none;
        }
        #next2{
            width:2rem;
            height:2rem;
            display: none;
        }
        #next3{
            width:2rem;
            height:2rem;
            display: none;
        }
        #places{
            width: 100%;
            height: 10rem;
            color: white;
        }
        #firstWord{
            font-size: 1rem;
            float: left;
            line-height: 2.8rem;
        }
        #secondWord{
            font-size: 2rem;
            float: left;
            line-height: 2rem;
        }
        #thirdWord{
            font-size: 1rem;
            float: left;
            line-height: 2.8rem;
        }
        .card-container-5 {
            margin-left: 0.2rem;
            position: relative;
            width: 22rem;
            height: 17rem;
            cursor: pointer;
            cursor: hand;
        }
        .card-container-5 .card {
            position: absolute;
            left: 0;
            top: 0;
            width: 22rem;
            height: 17rem;
            -webkit-transition: all .3s ease;
            transition: all .3s ease;
            border-radius: 0.2rem;
            background-color: chocolate;
            box-shadow: 0 0.2rem 0.75rem 0 rgba(0, 0, 0, 0.2);
            -webkit-transform-origin: bottom left;
            transform-origin: bottom left;
        }
        .card-container-5 .card:last-of-type {
            z-index: 80;
        }
        .card-container-5 .card:nth-last-of-type(2) {
            z-index: 90;
        }
        .card-container-5 .card:first-of-type {
            z-index: 100;
        }
        .card-container-5:hover .card {
            border-bottom-left-radius: 0.82rem;
        }
        .card-container-5:hover .card:first-of-type {
            -webkit-transform: rotate(-10deg);
            transform: rotate(-10deg);
        }
        .card-container-5:hover .card:nth-of-type(2) {
            -webkit-transform: rotate(-5deg);
            transform: rotate(-5deg);
        }
        .card-container-5:hover .card:last-of-type {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
        }
        .imgs{
            width: 22rem;
            height: 17rem;
        }
        .picFrame {
            background-color:#CCC;
            border: #CCC 1px solid;
            width: 830px;
            height: 1250px;
            margin: auto;
            margin-top: 40px;
            position: relative;/*启动相对定位 让子集元素能相对与 父级元素定位*/
            overflow: hidden;
        }
        .picFrame .picItem {
            position: absolute;/*开启绝对定位  相对于父级元素定位*/
            left: 0;
            top: 0;
            width:830px;
            height: 1250px;
        }
        .picItem img{
            width:830px;
            height: 1250px;
        }
 

    </style>
    <script type="text/javascript" src="stylesheets/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="stylesheets/jquery.animateNumber.js"></script>
    <script src="stylesheets/anima.js"></script>
</head>
<body style="font-size: 12px;margin:0;background:#1c1c1c">
<div class="container">
    <div class="perScreen" id="screen0" style="text-align:center">
        <!--        <div style="width:24.5rem;height:5rem"> -->
        <img id="me" src="imgs/default_avatar.png" >
        <!--        </div> -->
        <div style="width:20rem;height:10rem;margin:auto;margin-top:14rem;margin-bottom:12rem;font-size:1rem;color:white;">
            <p id="question">When</p>
            <div id="answer">
                <input id="year" class="dateInput" type="text" style="width:4rem"><span style="padding:0.2rem">年</span>
                <input id="month" class="dateInput" type="text" style="width:2rem"><span style="padding:0.2rem">月</span>
                <input id="day" class="dateInput" type="text" style="width:2rem"><span style="padding:0.2rem">日</span>
            </div>
            <div id="confirmBtn" style="width:20rem;height:2rem;line-height:2rem;margin-top:2rem;">
                <span id="confirm0" onclick="confirm0()">Confirm</span>
            </div>
        </div>
        <div style="width:100%;height:2rem;text-align:center;margin-top:12.5rem">
            <img id="next" src="imgs/default_avatar.png" onclick="nextScreen()">
        </div>
        <!--        <div style="width:24.5rem;height:5rem;"> -->
        <img id="you" src="imgs/default_avatar.png" >
        <!--        </div> -->
        <div id="loves">
            <img class="love" id="love0" src="imgs/icon_praise_big_3.png">
            <img class="love" id="love1" src="imgs/icon_praise_big_3.png">
            <img class="love" id="love2" src="imgs/icon_praise_big_3.png">
            <img class="love" id="love3" src="imgs/icon_praise_big_3.png">
        </div>
    </div>
    <div class="perScreen" id="screen1" style="display:none">
        <div id="container1">
            <div style="width:100%;height:3rem;">
                <img id="you2" src="imgs/default_avatar.png" style="width:5rem;height:5rem;border-radius:2rem;position:absolute;left:2rem;top:3rem">
            </div>
            <div style="width:100%;height:4rem;font-size:1.5rem;color:white;margin-top:5rem">
                <span style="margin-left:8rem">aaaa</span><span id="born"></span>
                <span>aaa</span>
            </div>
            <div style="width:100%;height:4rem;font-size:1.5rem;color:white;margin-top:5rem">
                <span style="margin-left:4rem">bbbb</span><span id="together"></span>
                <span>bbb</span>
            </div>
            <div style="width:100%;height:4rem;font-size:1.5rem;color:white;margin-top:5rem">
                <span style="margin-left:6rem">cccc</span><span id="forever"></span>
                <span>ccc</span>
            </div>
        </div>
        <div id="container2" style="display: none">
            <p style="margin-left:0;margin-top:0;font-size:1.5rem;color:white">aaaaaaaaaaa</p>
            <div id="pics">
                <img class="pic" id="pic0" src="imgs/default_avatar.png">
                <img class="pic" id="pic1" src="imgs/default_avatar.png">
                <img class="pic" id="pic2" src="imgs/default_avatar.png">
                <img class="pic" id="pic3" src="imgs/default_avatar.png">
                <img class="pic" id="pic4" src="imgs/default_avatar.png">
                <img class="pic" id="pic5" src="imgs/default_avatar.png">
                <img class="pic" id="pic6" src="imgs/default_avatar.png">
                <img class="pic" id="pic7" src="imgs/default_avatar.png">
                <img class="pic" id="pic8" src="imgs/default_avatar.png">
                <img class="pic" id="pic9" src="imgs/default_avatar.png">
            </div>
            <div style="width:100%;height:2rem;text-align:center;margin-top:35rem">
                <img id="next1" src="imgs/default_avatar.png" onclick="nextScreen1()">
            </div>

        </div>
    </div>
    <div class="perScreen" id="screen2" style="display: none">
        <p style="margin-top:0;float:right;font-size:1.5rem;color:white">bbbbbbbbb</p>
        <div id="picss">
            <img class="pic" id="pic10" src="imgs/default_avatar.png">
            <img class="pic" id="pic11" src="imgs/default_avatar.png">
            <img class="pic" id="pic12" src="imgs/default_avatar.png">
            <img class="pic" id="pic13" src="imgs/default_avatar.png">
            <img class="pic" id="pic14" src="imgs/default_avatar.png">
            <img class="pic" id="pic15" src="imgs/default_avatar.png">
            <img class="pic" id="pic16" src="imgs/default_avatar.png">
            <img class="pic" id="pic17" src="imgs/default_avatar.png">
            <img class="pic" id="pic18" src="imgs/default_avatar.png">
            <img class="pic" id="pic19" src="imgs/default_avatar.png">
        </div>
        <div style="width:100%;height:2rem;text-align:center;margin-top:36.5rem">
            <img id="next2" src="imgs/default_avatar.png" onclick="nextScreen2()">
        </div>
    </div>
    <div class="perScreen" id="screen3" style="display:none">
        <div id="places">
            <div id="firstWord"></div>
            <div id="secondWord"></div>
            <div id="thirdWord"></div>
        </div>
        <div style="width:22rem;height:17rem;margin-top:2rem">
            <div class="card-container-5"  id="tickets" style="display:none">
                <div class="card">
                    <img class="imgs" src="imgs/icon_share_screenshot@2x.png">
                </div>
                <div class="card">
                    <img class="imgs" src="imgs/icon_share_screenshot@2x.png">
                </div>
                <div class="card">
                    <img class="imgs" src="imgs/icon_share_screenshot@2x.png">
                </div>
                <div class="card">
                    <img class="imgs" src="imgs/icon_share_screenshot@2x.png">
                </div>
            </div>
        </div>
        <div style="width:100%;height:2rem;text-align:center;margin-top:7.5rem">
            <img id="next3" src="imgs/default_avatar.png" onclick="nextScreen3()">
        </div>
    </div>
    <div class="perScreen" id="screen4" style="display:none">
        <p style="font-size:1.5rem;color:white;margin-bottom:1rem;margin-top:0">ccccccccccc</p>
        <div class="picFrame" id="picFrameDiv" style="background-color:#1c1c1c;border:0;display:none">
            <div class="picItem" style="z-index: 6; top:0"> <img src="imgs/icon_share_screenshot@2x.png"> </div>
            <div class="picItem" style="z-index:5;"> <img src="imgs/icon_share_screenshot@2x.png"> </div>
            <div class="picItem" style="z-index:4;"> <img src="imgs/icon_share_screenshot@2x.png"> </div>
            <div class="picItem" style="z-index:3;"> <img src="imgs/icon_share_screenshot@2x.png"> </div>
            <div class="picItem" style="z-index:2;"> <img src="imgs/icon_share_screenshot@2x.png"> </div>
            <div class="picItem" style="z-index:1;"> <img src="imgs/icon_share_screenshot@2x.png"> </div>
        </div>
        <div style="width:100%;height:2rem;text-align:center;margin-top:1rem">
            <img id="next4" src="imgs/default_avatar.png" onclick="nextScreen4()" style="display:none">
        </div>
    </div>
    <div class="perScreen" id="screen5" style="display:none">
	<div class="htmleaf-container">
		<div id="ball0" class="ball" style="display:none;-webkit-transform-origin: 0% 100%;-moz-transform-origin: 0% 100%;-ms-transform-origin: 0% 100%;-o-transform-origin: 0% 100%;transform-origin: 0% 100%;text-align:center;line-height:200px">
    <span style="font-size:40px;font-family:'Neucha';color:white">AAAA</span>
    </div>
    <div id="ball1" class="ball" style="display:none;-webkit-transform-origin: 0% 100%;-moz-transform-origin: 0% 100%;-ms-transform-origin: 0% 100%;-o-transform-origin: 0% 100%;transform-origin: 0% 100%;text-align:center;line-height:200px">
    <span style="font-size:40px;font-family:'Neucha';color:white">AAAA</span>
    </div>
    <div id="ball2" class="ball" style="display:none;-webkit-transform-origin: 0% 100%;-moz-transform-origin: 0% 100%;-ms-transform-origin: 0% 100%;-o-transform-origin: 0% 100%;transform-origin: 0% 100%;text-align:center;line-height:200px">
    <span style="font-size:40px;font-family:'Neucha';color:white">AAAA</span>
    </div>
    <div id="ball3" class="ball" style="display:none;-webkit-transform-origin: 0% 100%;-moz-transform-origin: 0% 100%;-ms-transform-origin: 0% 100%;-o-transform-origin: 0% 100%;transform-origin: 0% 100%;text-align:center;line-height:200px">
    <span style="font-size:40px;font-family:'Neucha';color:white">AAAA</span>
    </div>
	</div>
    </div>
</div>
<script >
    console.log(document.getElementsByTagName("body")[0].offsetWidth);
    var rem =document.getElementsByTagName("body")[0].offsetWidth /320 *12;
    var h = document.getElementsByTagName('html')[0];
    h.style.fontSize = rem + 'px';
</script>
<script>
    var year,month,day;
    var movie;
    var giftu,giftme;
    var loveme;
    //创建移动数组后 启动引擎
    var objArray=new Array();

    // $ (window).scroll (function ()
    //     {
    //         $ (this).scrollTop (0)
    //     });

    // $ (function ()
    // {
    //     $ (":button").click (function ()
    //     {
    //         $ (window).unbind ('scroll');
    //     })
    // });

    function confirm0(){
        year = $("#year").val();
        month = $("#month").val();
        day = $("#day").val();
        if(year=="2014"&&month=="12"&&day=="26"){
            $("#question").text("First Movie");
            $("#answer").empty();
            var tr ="<input type='text' id='movie' class='dateInput' style='width:16rem'>";
            $("#answer").append(tr);
            $("#confirmBtn").empty();
            var trr = "<span id='confirm1' onclick='confirm1()'>Confirm</span>";
            $("#confirmBtn").append(trr);
            $("#me").attr("src","imgs/default_avatar.png");
            $("#you").attr("src","imgs/default_avatar.png");
        }else{
            $("#year").val("");
            $("#month").val("");
            $("#day").val("");
            $("#me").attr("src","imgs/icon_comments_big_2@2x.png");
            $("#you").attr("src","imgs/icon_comments_big_2@2x.png");
        }
    }

    function confirm1(){
        movie = $("#movie").val();
        if(movie=="匆匆那年"){
            $("#question").text("First gift u");
            $("#answer").empty();
            $("#answer").css("text-align","left");
            $("#answer").css("margin-left","3rem");
            var tr ="<input type='radio' name='gift0' value='0' style='font-size:1.3rem'>aa<br>" +
                    "<input type='radio' name='gift0' value='1' style='font-size:1.3rem'>bb<br>" +
                    "<input type='radio' name='gift0' value='2' style='font-size:1.3rem'>cc<br>" +
                    "<input type='radio' name='gift0' value='3' style='font-size:1.3rem'>dd<br>";
            $("#answer").append(tr);
            $("#answer").css("height","7rem");
            $("#confirmBtn").empty();
            var trr ="<span id='confirm2' onclick='confirm2()'>Confirm</span>";
            $("#confirmBtn").append(trr);
            $("#me").attr("src","imgs/default_avatar.png");
            $("#you").attr("src","imgs/default_avatar.png");
        }else{
            $("#movie").val("");
            $("#me").attr("src","imgs/icon_comments_big_2@2x.png");
            $("#you").attr("src","imgs/icon_comments_big_2@2x.png");
        }
    }

    function confirm2(){
        giftu = $("input[name='gift0']:checked").val();
        if(giftu == 3){
            $("#question").text("First gift me");
            $("#answer").empty();
            var tr ="<input type='radio' name='gift1' value='0' style='font-size:1.3rem'>aa<br>" +
                    "<input type='radio' name='gift1' value='1' style='font-size:1.3rem'>bb<br>" +
                    "<input type='radio' name='gift1' value='2' style='font-size:1.3rem'>cc<br>" +
                    "<input type='radio' name='gift1' value='3' style='font-size:1.3rem'>dd<br>";
            $("#answer").append(tr);
            $("#confirmBtn").empty();
            var trr ="<span id='confirm3' onclick='confirm3()'>Confirm</span>";
            $("#confirmBtn").append(trr);
            $("#me").attr("src","imgs/default_avatar.png");
            $("#you").attr("src","imgs/default_avatar.png");
        }else{
            // $("input[name='gift0']:checked").attr("chechked",false);
            $("#me").attr("src","imgs/icon_comments_big_2@2x.png");
            $("#you").attr("src","imgs/icon_comments_big_2@2x.png");
        }

    }

    function confirm3(){
        giftme = $("input[name='gift1']:checked").val();
        if(giftme == 3){
            $("#question").text("me?");
            $("#answer").empty();
            var tr ="<input type='radio' name='gift2' value='0' style='font-size:1.3rem'>aa<br>" +
                    "<input type='radio' name='gift2' value='1' style='font-size:1.3rem'>bb<br>" +
                    "<input type='radio' name='gift2' value='2' style='font-size:1.3rem'>cc<br>" +
                    "<input type='radio' name='gift2' value='3' style='font-size:1.3rem'>dd<br>";
            $("#answer").append(tr);
            $("#confirmBtn").empty();
            var trr ="<span id='confirm4' onclick='confirm4()'>Confirm</span>";
            $("#confirmBtn").append(trr);
            $("#me").attr("src","imgs/default_avatar.png");
            $("#you").attr("src","imgs/default_avatar.png");
        }else{
            $("#me").attr("src","imgs/icon_comments_big_2@2x.png");
            $("#you").attr("src","imgs/icon_comments_big_2@2x.png");
        }

    }

    function confirm4(){
        loveme = $("input[name='gift2']:checked").val();
        if(loveme == 3){
            $("#question").hide(1500);
            $("#answer").hide(1500);
            $("#confirm4").hide();
            $("#me").animate({left:"8.8rem",top:"20rem"},2000);
            $("#you").animate({right:"7.5rem",top:"20rem"},2000);
            $("#love0").show(3000);
            $("#love1").show(4000);
            $("#love2").show(5000);
            $("#love3").show(6000);
            $("#next").show(6000);
        }else{

        }
    }

    function nextScreen(){
        console.log("nextScreen");
        $("#screen0").hide();
        $("#screen1").show();
        $('#born').animateNumber(
                {
                    number: 22,

                    numberStep: function (now, tween) {

                        var floored_number = Math.floor(now) / 22,
                                target = $(tween.elem);
                        floored_number = (floored_number * 22).toFixed(0);

                        target.text(floored_number);
                    }
                },
                11000
        );
        $('#together').animateNumber(
                {
                    number: 695,

                    numberStep: function (now, tween) {

                        var floored_number = Math.floor(now) / 695,
                                target = $(tween.elem);
                        floored_number = (floored_number * 695).toFixed(0);

                        target.text(floored_number);
                    }
                },
                11000
        );
        $('#forever').animateNumber(
                {
                    number: 6000000,

                    numberStep: function (now, tween) {

                        var floored_number = Math.floor(now) / 6000000,
                                target = $(tween.elem);
                        floored_number = (floored_number * 6000000).toFixed(0);

                        target.text(floored_number);
                    }
                },
                15000
        );
        $("#container1").animate({height:"26.52rem"},12000,function(){
            $("#container1").animate({height:"6rem"},3000,function(){
                $("#container1").hide();
                $("#container2").show(1000,function(){
                    $("#pic0").show(1000,function(){
                        $("#pic1").show(1000,function(){
                            $("#pic2").show(1000,function(){
                                $("#pic3").show(1000,function(){
                                    $("#pic4").show(1000,function(){
                                        $("#pic5").show(1000,function(){
                                            $("#pic6").show(1000,function(){
                                                $("#pic7").show(1000,function(){
                                                    $("#pic8").show(1000,function(){
                                                        $("#pic9").show(1000,function(){
                                                            $("#next1").show();
                                                        })
                                                    })
                                                })
                                            })
                                        })
                                    })
                                })
                            })
                        })
                    })
                })
            });
        });

    }
    function nextScreen1(){
        console.log("nextScreen1");
        // var top = document.body.clientHeight * 2;
        // console.log(top);
        // $("body").scrollTop(top);
        $("#screen1").hide();
        $("#screen2").show(1000,function(){
            $("#pic10").show(1000,function(){
                $("#pic11").show(1000,function(){
                    $("#pic12").show(1000,function(){
                        $("#pic13").show(1000,function(){
                            $("#pic14").show(1000,function(){
                                $("#pic15").show(1000,function(){
                                    $("#pic16").show(1000,function(){
                                        $("#pic17").show(1000,function(){
                                            $("#pic18").show(1000,function(){
                                                $("#pic19").show(1000,function(){
                                                    $("#next2").show();
                                                })
                                            })
                                        })
                                    })
                                })
                            })
                        })
                    })
                })
            })
        })

    }
    function nextScreen2(){
        console.log("nextScreen2");
        // var top = document.body.clientHeight * 3;
        // console.log(top);
        // $("body").scrollTop(top);
        $("#screen2").hide();
        $("#screen3").show();
        initPlaces();

    }
    function initPlaces() {
        var s = 'Hello World!';
        var ss = 'AAA、BB';
        var sss = 'blabla'
        var index = 0;
        var index2 = 0;
        var index3 = 0;
        var length = s.length;
        var length2 = ss.length;
        var length3 = sss.length;
        var tId = null;

        function start(){
            $('#firstWord').text('');
            $('#secondWord').text('');
            $('#thirdWord').text('');

            tId=setInterval(function(){
                $('#firstWord').append(s.charAt(index));
                if(index++ === length){
                    // clearInterval(tId);
                    // index = 0;
                    // start()
                    $('#secondWord').append(ss.charAt(index2));
                    if(index2++ === length2){
                        $('#thirdWord').append(sss.charAt(index3));
                        if(index3++ === length3){
                            $("#tickets").show(1000);
                            initImgs();
                            $("#next3").show(1000);
                            clearInterval(tId);
                        }
                        index2--;}
                    index--;}
            },200);
        }

        start();
    }
    function initImgs(){
        var cc5 = $('.card-container-5');
        cc5.click(function(){
            var firstCard = cc5.children('.card').first(),
                    cssRoll = {
                        transform: 'rotate(-45deg)',
                        opacity:0
                    };
            firstCard.css(cssRoll);
            setTimeout(function(){
                cc5.append(firstCard);
                firstCard.attr('style','');
            },300);
        });
    }

    function nextScreen3(){
        console.log("nextScreen3");
        $("#screen3").hide();
        $("#screen4").show(1000,function(){
            $("#picFrameDiv").show(1000,function(){
                initImgs1();
            });
        });

    }

    function initImgs1() {
        //启动引擎  FPS 刷新率  刷新率越高一般看起来越流畅 但是也要看电脑的性能！一般游戏是60FPS 射击类游戏 120FPS以上
        move(10,'move()')//5=200FPS 6=166FPS 7=142FPS 8=125FPS 9=111FPS 10=100FPS
        addObj($(".picFrame>.picItem").eq(0),830,0,1250,'complete(0)')// JQ对象 ,X位置,Y位置,用时
    }

    function complete(i){
        if(i==0){
            addObj($(".picFrame>.picItem").eq(1),0,1250,2000,'complete(1)')
        }else if(i==1){
            addObj($(".picFrame>.picItem").eq(2),830,1250,2000,'complete(2)')
        }else if(i==2){
            addObj($(".picFrame>.picItem").eq(3),830,-1250,2000,'complete(3)')
        }else if(i==3){
            addObj($(".picFrame>.picItem").eq(4),-830,-1250,2000,'complete(4)')
        }else if(i==4){
            addObj($(".picFrame>.picItem").eq(5),830,1250,2000,'complete(5)')
        }else if(i==5){
            addObj($(".picFrame>.picItem").eq(4),0,0,1000,'complete(6)')
        }else if(i==6){
            addObj($(".picFrame>.picItem").eq(2),0,0,1000,'complete(7)')
        }else if(i==7){
            addObj($(".picFrame>.picItem").eq(1),0,0,1000,'complete(8)')
        }else if(i==8){
            addObj($(".picFrame>.picItem").eq(0),0,0,1000,'complete(9)')
        }else if(i==9){
            $("#next4").show();
        }

    }

    function addObj(obj,X,Y,time,func){//JQ对象,移动到的位置X,移动到的位置Y,完成动画的总时间,完成后执行的函数
        var picItem={
            "obj":obj,/*JQ选择的对象 必须*/
            "X":X,/*移动到的位置X 必须*/
            "Y":Y,/*移动到的位置Y 必须*/
            "X1":parseInt($(obj).css("left"),10),/*对象的起初位置X 自取*/
            "Y1":parseInt($(obj).css("top"),10),/*对象的起初位置Y  自取*/
            "progress":0,/*相对时间内的进度  引擎自己计算*/
            "time":time,/*用多久时间去完成 的总时间 必须*/
            "wholeProgress":0,/*计算时间 的总进度 引擎自己计算 */
            "complete":func/*完成后 执行的函数  可以有*/
        };
        var exists=false;
        for (var i=0; i<objArray.length;i++){
            if(picItem.obj.selector==objArray[i].obj.selector){exists=true;}
            // JQ 1.7.2 存在这个属性 $('body div').selector 大概等于 'body div' 使用要注意了
        }
        if(exists==false){//不存在加入对象
            objArray[objArray.length]=picItem;
        }
    }

    function move(time2){   //用时钟自启动的引擎  引擎就是无限循环  提供动力的那总
        for(var i=0;i<objArray.length;i++){//循环开始
            if(objArray[i].wholeProgress==0){//用时间计算出总的进度  进度与时间相关
                objArray[i].wholeProgress=Math.ceil(objArray[i].time/time2);
            }
            if(objArray[i].progress==objArray[i].wholeProgress){
                objArray[i].obj.css("left", objArray[i].X);//位置最后调整
                objArray[i].obj.css("top", objArray[i].Y);//位置最后调整
                var str=objArray[i].complete;
                objArray.splice(i,1)//删除对象
                eval(str)//执行回调函数
            }else{
                progress=objArray[i].progress/objArray[i].wholeProgress*90;
                if(objArray[i].X>objArray[i].X1){//横向 向右移动
                    if(objArray[i].X1<=0){
                        moveWidth=objArray[i].X+Math.abs(objArray[i].X1);//真实移动宽度
                    }
                    else{
                        moveWidth=Math.abs(Math.abs(objArray[i].X1)-objArray[i].X);//真实移动宽度
                    }
                    //计算出移动宽度
                    position=Math.sin(progress*(2*Math.PI/360))*(moveWidth)
                    objArray[i].obj.css("left",position+objArray[i].X1);
                }
                else{//横向 向左移动
                    moveWidth=Math.abs(objArray[i].X-Math.abs(objArray[i].X1));//计算出移动距离
                    position=Math.sin(progress*(2*Math.PI/360))*(moveWidth)
                    objArray[i].obj.css("left",objArray[i].X1-position);
                }
                if(objArray[i].Y>objArray[i].Y1){//纵向 向下移动
                    if(objArray[i].Y1<=0){
                        moveWidth=objArray[i].Y+Math.abs(objArray[i].Y1);//真实移动宽度
                    }
                    else{
                        moveWidth=Math.abs(Math.abs(objArray[i].Y1)-objArray[i].Y);//真实移动宽度
                    }
                    //计算出移动宽度
                    position=Math.sin(progress*(2*Math.PI/360))*(moveWidth)
                    objArray[i].obj.css("top",position+objArray[i].Y1);
                }
                else{//横向 向左移动
                    moveWidth=Math.abs(objArray[i].Y-Math.abs(objArray[i].Y1));//计算出移动距离
                    position=Math.sin(progress*(2*Math.PI/360))*(moveWidth)
                    objArray[i].obj.css("top",objArray[i].Y1-position);
                }
                objArray[i].progress=objArray[i].progress+1;
            }
        }//循环结束
        setTimeout('move('+time2+')',time2)//自己启动自己//最后执行
    }
    function nextScreen4(){
        console.log("nextScreen4");
        $("#screen4").hide();
        $("#screen5").show();
        initBall0();
	setTimeout("initBall1()",4000);
	setTimeout("initBall2()",8000);
	setTimeout("initBall3()",12000);
    }
   function initBall0(){
         var world = anima.world(),
      item0 = world.add(document.querySelector('#ball0'));
	     $("#ball0").show();

   item0
      .animate([
        {
          translate: [0, 450, 0], //基调下落高度是 300 - 0
          ease: 'ease-in-quad'
        },{
          translate: [10, 0, 0] //基调X Y坐标
        }
      ], 500)
      .animate({
        scale: [.1, -.2, 0]  //落地时 发生变形 以模拟落地形态
      }, 50)
      .animate({
        scale: [-.1, .2, 0]  //弹起时 发生变形 以模拟弹起形态
      }, 50)
      .animate([
        {
          translate: [0, -80, 0],
          ease: 'ease-out-quad'
        },{
          translate: [100, 0, 0]
        }
      ], 450)
      .animate([
        {
          translate: [0, 150, 0],
          ease: 'ease-in-quad'
        },{
          translate: [100, 0, 0]
        }
      ], 400)
      .animate({
        scale: [.05, -.15, 0]
      }, 40)
      .animate({
        scale: [-.05, .15, 0]
      }, 40)
    }
	
    function initBall1(){
         var world = anima.world(),
      item1 = world.add(document.querySelector('#ball1'));
	       $("#ball1").show();
      item1
      .animate([
        {
          translate: [0, 550, 0], //基调下落高度是 300 - 0
          ease: 'ease-in-quad'
        },{
          translate: [80, 0, 0] //基调X Y坐标
        }
      ], 500)
      .animate({
        scale: [.1, -.2, 0]  //落地时 发生变形 以模拟落地形态
      }, 50)
      .animate({
        scale: [-.1, .2, 0]  //弹起时 发生变形 以模拟弹起形态
      }, 50)
      .animate([
        {
          translate: [0, -150, 0],
          ease: 'ease-out-quad'
        },{
          translate: [180, 0, 0]
        }
      ], 450)
      .animate([
        {
          translate: [0, 200, 0],
          ease: 'ease-in-quad'
        },{
          translate: [150, 0, 0]
        }
      ], 400)
      .animate({
        scale: [.05, -.15, 0]
      }, 40)
      .animate({
        scale: [-.05, .15, 0]
      }, 40)
      .animate([
        {
          translate: [0, -150, 0],
          ease: 'ease-out-quad'
        },{
          translate: [100, 0, 0]
        }
      ], 350)
      .animate([
        {
          translate: [0, 400, 0],
          ease: 'ease-in-quad'
        },{
          translate: [80, 0, 0]
        }
      ], 300)
      .animate({
        scale: [.02, -.1, 0]
      }, 25)
      .animate({
        scale: [-.02, .1, 0]
      }, 25)

    }
	 function initBall2(){
         var world = anima.world(),
      item2 = world.add(document.querySelector('#ball2'));
	       $("#ball2").show();
      item2
      .animate([
        {
          translate: [0, 550, 0], //基调下落高度是 300 - 0
          ease: 'ease-in-quad'
        },{
          translate: [50, 0, 0] //基调X Y坐标
        }
      ], 500)
      .animate({
        scale: [.1, -.2, 0]  //落地时 发生变形 以模拟落地形态
      }, 50)
      .animate({
        scale: [-.1, .2, 0]  //弹起时 发生变形 以模拟弹起形态
      }, 50)
      .animate([
        {
          translate: [0, -150, 0],
          ease: 'ease-out-quad'
        },{
          translate: [50, 0, 0]
        }
      ], 450)
      .animate([
        {
          translate: [0, 350, 0],
          ease: 'ease-in-quad'
        },{
          translate: [50, 0, 0]
        }
      ], 400)
      .animate({
        scale: [.05, -.15, 0]
      }, 40)
      .animate({
        scale: [-.05, .15, 0]
      }, 40)
      .animate([
        {
          translate: [0, -200, 0],
          ease: 'ease-out-quad'
        },{
          translate: [50, 0, 0]
        }
      ], 350)
      .animate([
        {
          translate: [0, 350, 0],
          ease: 'ease-in-quad'
        },{
          translate: [80, 0, 0]
        }
      ], 300)
      .animate({
        scale: [.02, -.1, 0]
      }, 25)
      .animate({
        scale: [-.02, .1, 0]
      }, 25)

    }
	function initBall3(){
         var world = anima.world(),
      item3 = world.add(document.querySelector('#ball3'));
	       $("#ball3").show();
      item3
      .animate([
        {
          translate: [0, 800, 0], //基调下落高度是 300 - 0
          ease: 'ease-in-quad'
        },{
          translate: [180, 0, 0] //基调X Y坐标
        }
      ], 500)
      .animate({
        scale: [.1, -.2, 0]  //落地时 发生变形 以模拟落地形态
      }, 50)
      .animate({
        scale: [-.1, .2, 0]  //弹起时 发生变形 以模拟弹起形态
      }, 50)
      .animate([
        {
          translate: [0, -240, 0],
          ease: 'ease-out-quad'
        },{
          translate: [190, 0, 0]
        }
      ], 450)
      .animate([
        {
          translate: [0, 380, 0],
          ease: 'ease-in-quad'
        },{
          translate: [70, 0, 0]
        }
      ], 400)
      .animate({
        scale: [.05, -.15, 0]
      }, 40)
      .animate({
        scale: [-.05, .15, 0]
      }, 40)
      .animate([
        {
          translate: [0, -200, 0],
          ease: 'ease-out-quad'
        },{
          translate: [170, 0, 0]
        }
      ], 350)
      .animate([
        {
          translate: [0, 480, 0],
          ease: 'ease-in-quad'
        },{
          translate: [100, 0, 0]
        }
      ], 300)
      .animate({
        scale: [.02, -.1, 0]
      }, 25)
      .animate({
        scale: [-.02, .1, 0]
      }, 25)

    }
</script>
</body>
</html>
